(function(){"use strict";var e={5199:function(e,t,a){var r=a(9242),o=JSON.parse('{"form":{"placeholders":{"username":"Ваше имя","email":"Ваш email","password":"Ваш пароль","repeatPassword":"Повторите пароль","bio":"О себе"},"buttons":{"save":"Сохранить","accept":"Подтвердить","continue":"Продолжить","next":"Далее","cancel":"Отмена","enter":"Ввод","remove":"Удалить","signIn":"Войти","edit":"Редактировать"},"checkbox":{"rememberMe":"Запомнить меня","noRules":"Никаких правил"},"errors":{"email":{"required":"Введите email","already-used":"Эта почта уже используется","incorrect":"Введите корректный email"},"password":{"required":"Введите пароль","minLength":"Минимальная длина пароля - 6, текущая длина пароля - {msg}"},"repeatPassword":{"incorrect":"Введённое значение не равно паролю"},"username":{"required":"Введите имя пользователя"}},"operations":{"titles":{"wait":"Секундочку...","register":"Трясём базу данных...","login":"Посмотрим, кто у нас тут....","update":"Обновление..."},"messages":{"auth/user-not-found":"Пользователь не найден 👻","auth/session-closed":"Вы вышли из аккаунта 👋","auth/logged-in":"Добро пожаловать 👋","auth/verifying-link":"Ссылка-подтверждение отправлена на почту ✔️","auth/email-already-in-use":"Почта занята ☝️","auth/invalid-email":"Неправильный email 🧠","auth/wrong-password":"Неверный пароль 🧠","auth/network-request-failed":"Ошибка подключения 🔌","auth/email-not-verified":"Требуется подтвердить почту 🦾","auth/popup-closed-by-user":"Форма отклонена ✋","auth/not-authorized":"Необходима авторизация 🔒","auth/too-many-requests":"Много запросов, приходите позже 🔒"}}},"titles":{"welcome":"Добро пожаловать","taskTracker":"Планировщик задач","users":"Пользователи","register":"Регистрация","passwordRecovery":"Восстановление пароля","joinUs":"Присоединяйтесь","profile":"Профиль"},"pages":{"login":"Вход","signUp":"Регистрация","passwordRecovery":"Восстановление пароля","users":"Пользователи","todoList":"Список дел","timer":"Таймер","drawingBoard":"Доска для рисования","dashboard":"Главная","profile":"Профиль","main":"Список чатов","chat":"Чат"},"phrases":{"or":"или","sure":"Вы уверены?","yes":"Да","no":"Нет","noAccount":"Ещё нет аккаунта?","haveAccount":"Уже есть аккаунт?","taskTracker":"Планировщик задач","weListen":"Начинайте, мы записываем...","sendLink":"Отправить ссылку-подтвреждение","loginWithGoogle":"Войти с Google","cantCreatePassword":"Не придумать пароль?","randomAvatar":"Случайный аватар","namedAvatar":"Аватар по имени"},"operations":{"users":{"delete":"Удаление пользователя {msg}"}},"fallbacks":{"noUsers":"Пользователей пока нет","createUser":"Вы можете сохранить пользователя, используя функцию \\"Запомнить меня\\" на странице входа"},"links":{"external":{"passwordGenerator":"Генератор паролей"},"internal":{"signIn":"Войти","passwordRecovery":"Восстановление пароля","joinUs":"Присоединяйтесь","users":"Пользователи","back":"Назад"}}}'),s=JSON.parse('{"form":{"placeholders":{"username":"Your username","email":"Your email","password":"Your password","repeatPassword":"Repeat password","bio":"About me"},"buttons":{"accept":"Accept","save":"Save","continue":"Continue","next":"Next","cancel":"Cancel","enter":"Enter","remove":"Remove","signIn":"Sign in","edit":"Edit"},"checkbox":{"rememberMe":"Remember me","noRules":"No rules here"},"errors":{"email":{"required":"Email is required","already-used":"This email is already used","incorrect":"This email is incorrect"},"password":{"required":"Password is required","incorrect":"This password is incorrect","minLength":"Minimal length for password is 6, current is {msg}"},"repeatPassword":{"incorrect":"Field value doesn\'t match password value"},"username":{"required":"Username is required"}},"operations":{"titles":{"wait":"Hold on...","register":"Querying the database...","login":"Logging in","update":"Updating..."},"messages":{"auth/user-not-found":"User not found 👻","auth/session-closed":"You logged out 👋","auth/logged-in":"Welcome 👋","auth/verifying-link":"Verification link sended ✔️","auth/email-already-in-use":"Email already in use ☝️","auth/invalid-email":"Invalid email 🧠","auth/wrong-password":"Invalid password 🧠","auth/network-request-failed":"Network request failed 🔌","auth/email-not-verified":"You have to verify the email 🦾","auth/popup-closed-by-user":"Popup closed ✋","auth/not-authorized":"Log in first 🔒","auth/too-many-requests":"Too many requests 🔒"},"fallbacks":{"error":"Something went wrong 👻"}}},"titles":{"welcome":"Welcome","taskTracker":"Task tracker","users":"Users","register":"Sign Up","passwordRecovery":"Password recovery","joinUs":"Join us","profile":"Profile"},"phrases":{"or":"or","sure":"Are you sure?","yes":"Yes","no":"No","noAccount":"No account?","haveAccount":"Already have an account?","taskTracker":"Task tracker","weListen":"We\'re listening carefully...","cantCreatePassword":"Can\'t think of a password?","sendLink":"Send verification link","loginWithGoogle":"Login using Google","randomAvatar":"Get random avatar","namedAvatar":"Unique avatar for username"},"pages":{"login":"Login","signUp":"Sign Up","passwordRecovery":"Password Recovery","users":"Users","todoList":"Todo","timer":"Timer","drawingBoard":"Board","dashboard":"Dashboard","profile":"Profile","main":"Chat list","chat":"Chat"},"operations":{"users":{"delete":"Removing local save of {msg}"}},"fallbacks":{"noUsers":"No users yet.","createUser":"You can cache user info using \\"Remember me\\" checkbox in login page"},"links":{"external":{"passwordGenerator":"Password generator"},"internal":{"signIn":"Login","passwordRecovery":"Password recovery","joinUs":"Sign up","users":"Users","back":"Back"}}}'),n=a(5658);const i=navigator.language.slice(0,3),l=localStorage.getItem("task-tracker-config"),c=JSON.parse(l)?.language,u=c||(i||"en"),d={locale:u,fallbackLocale:{NODE_ENV:"production",BASE_URL:"/messenger-app/"}.VUE_APP_DEFAULT_LANG},h={ru:o,en:s},m=Object.assign(h),p=(0,n.o)({legacy:!0,...d,messages:m});var g=a(7795),f=a(9862),w=a(4287),y=a(7130),v=a(1294);const b={apiKey:"AIzaSyBLHwl9eIM_akgf8ztRR2R4qfnZp0bdkhM",authDomain:"task-tracker-vue.firebaseapp.com",projectId:"task-tracker-vue",storageBucket:"task-tracker-vue.appspot.com",messagingSenderId:"156613623132",appId:"1:156613623132:web:1d16afe9d5d5272082d599"},k=(0,g.ZF)(b),x=(0,f.v0)(k),C=(0,w.ad)(k),L=((0,y.N8)(k),(0,v.cF)(k));var _=a(3396);const U={class:"h-screen"};function S(e,t,a,r,o,s){const n=(0,_.up)("router-view");return(0,_.wg)(),(0,_.iD)("div",U,[((0,_.wg)(),(0,_.j4)((0,_.LL)(s.layout),null,{default:(0,_.w5)((()=>[(0,_.Wm)(n,null,{default:(0,_.w5)((({Component:e})=>[((0,_.wg)(),(0,_.j4)((0,_.LL)(s.transition),null,{default:(0,_.w5)((()=>[((0,_.wg)(),(0,_.j4)((0,_.LL)(e)))])),_:2},1024))])),_:1})])),_:1}))])}const $={class:"flex justify-center items-center bg-primary-100 dark:bg-dark-300 transition-colors h-full relative overflow-hidden"},I={class:"absolute z-50 w-full top-0 sm:flex hidden justify-end gap-2 items-center h-16 mr-12"},E={class:"flex justify-center items-center overflow-hidden relative sm:w-[450px] md:w-[620px] lg:w-[900px] w-full h-full transition-all"};function T(e,t,a,r,o,s){const n=(0,_.up)("color-theme-switcher"),i=(0,_.up)("language-switcher");return(0,_.wg)(),(0,_.iD)("div",$,[(0,_._)("div",I,[(0,_.Wm)(n),(0,_.Wm)(i)]),(0,_._)("div",E,[(0,_.WI)(e.$slots,"default")])])}var A=a(776),D=a(8477),R={name:"AuthLayout",components:{ColorThemeSwitcher:A.Z,LanguageSwitcher:D.Z}},N=a(89);const q=(0,N.Z)(R,[["render",T]]);var j=q,M=a(7139);const B={class:"flex flex-col bg-white dark:bg-dark-200 h-full transition-colors relative"},P={class:"flex bg-white dark:bg-dark-200 h-full relative"},W={key:0,class:"w-full relative overflow-hidden"},O={key:1,class:"flex justify-center items-center flex-col gap-4 h-full w-full"},V={class:"text-xs font-semibold text-gray-700 dark:text-gray-300"};function Z(e,t,a,r,o,s){const n=(0,_.up)("app-sidebar"),i=(0,_.up)("base-loader"),l=(0,_.up)("app-navbar");return(0,_.wg)(),(0,_.iD)("div",B,[(0,_._)("div",P,[(0,_.Wm)(n),e.contactsLoading?((0,_.wg)(),(0,_.iD)("div",O,[(0,_.Wm)(i,{size:"medium"}),(0,_._)("p",V," Добро пожаловать, "+(0,M.zw)(e.username)+"! 👋 ",1)])):((0,_.wg)(),(0,_.iD)("div",W,[(0,_.WI)(e.$slots,"default")]))]),(0,_.Wm)(l)])}const J={class:"flex-col justify-between bg-gray-700 dark:bg-dark-300 left-0 h-full sm:shadow-none shadow-xl sm:relative sm:flex hidden px-2 pb-2"},z={class:"flex w-full justify-center py-4"},H={class:"flex flex-col h-full w-full -mt-3 text-white"},G=["onClick"],F={class:"flex flex-col h-full w-full -mt-3 text-white"},Y=["onClick"];function K(e,t,a,r,o,s){const n=(0,_.up)("avatar-badge"),i=(0,_.Q2)("tooltip");return(0,_.wg)(),(0,_.iD)("div",J,[(0,_._)("header",z,[e.user?((0,_.wg)(),(0,_.j4)(n,{key:0,user:e.user,"fallback-name":"main","show-configuration":!1},null,8,["user"])):(0,_.kq)("",!0)]),(0,_._)("ul",H,[((0,_.wg)(!0),(0,_.iD)(_.HY,null,(0,_.Ko)(e.links,(t=>((0,_.wg)(),(0,_.iD)("li",{key:t.icon,class:"flex justify-center w-full"},[(0,_.wy)(((0,_.wg)(),(0,_.iD)("div",{onClick:a=>e.onClick(t),class:"flex items-center text-center w-full py-2 text-xl hover:text-primary-200 transition-colors cursor-pointer"},[(0,_._)("i",{class:(0,M.C_)(["w-12 mt-4",t.icon])},null,2)],8,G)),[[i,{content:t.label,offset:[0,-17],arrow:!1}]])])))),128))]),(0,_._)("footer",null,[(0,_._)("ul",F,[((0,_.wg)(!0),(0,_.iD)(_.HY,null,(0,_.Ko)(e.footerBtns,(t=>((0,_.wg)(),(0,_.iD)("li",{key:t.icon,class:"flex justify-center w-full"},[(0,_.wy)(((0,_.wg)(),(0,_.iD)("div",{onClick:a=>e.onClick(t),class:"flex items-center text-center w-full py-2 text-xl hover:text-primary-200 transition-colors cursor-pointer"},[(0,_._)("i",{class:(0,M.C_)(["w-12 mt-4",t.icon])},null,2)],8,Y)),[[i,{content:t.label,offset:[0,-17],arrow:!1}]])])))),128))])])])}a(7658);const Q={class:"rounded-full min-w-[2.5rem] w-10 h-10 bg-gray-300 overflow-hidden"},X=["src","alt"],ee={class:"w-[150px] text-center flex flex-col text-white gap-4"};function te(e,t,a,r,o,s){const n=(0,_.up)("base-tooltip");return e.user?((0,_.wg)(),(0,_.iD)("div",{key:0,class:(0,M.C_)(["flex gap-5 items-center overflow-hidden",{"cursor-pointer":e.showConfiguration}])},[(0,_._)("div",Q,[e.user.photoURL?((0,_.wg)(),(0,_.iD)("img",{key:0,src:e.user.photoURL,alt:e.user.name,class:"object-cover h-full w-full"},null,8,X)):(0,_.kq)("",!0)]),e.showConfiguration?((0,_.wg)(),(0,_.j4)(n,{key:0,options:{trigger:"click",arrow:!1,theme:"white"}},{default:(0,_.w5)((()=>[(0,_._)("div",ee,[(0,_._)("p",{class:"cursor-pointer hover:text-gray-400 transition-colors",onClick:t[0]||(t[0]=(...t)=>e.edit&&e.edit(...t))},"Профиль"),(0,_._)("p",{class:"cursor-pointer hover:text-gray-400 transition-colors",onClick:t[1]||(t[1]=(...t)=>e.settings&&e.settings(...t))},"Настройки"),(0,_._)("p",{class:"cursor-pointer hover:text-gray-400 transition-colors",onClick:t[2]||(t[2]=(...t)=>e.logout&&e.logout(...t))},"Выход")])])),_:1})):(0,_.kq)("",!0)],2)):(0,_.kq)("",!0)}var ae=(0,_.aZ)({name:"AvatarBadge",props:{user:{type:Object,required:!0},fallbackName:{type:String,required:!1},showConfiguration:{type:Boolean,required:!1,default:!0}},methods:{logout(){this.$store.dispatch("auth/logout"),this.$router.push({name:"login",query:{message:"auth/session-closed"}})},edit(){this.$router.push({name:"profile-edit",params:{uid:this.user.uid},query:{fallback:this.fallbackName||this.$route.name}})},settings(){this.$toast.error("Пока тут ничего нет")}},computed:{pageTitle(){return this.$route.meta.title},userInfo(){return this.$store.getters["auth/getUser"]}}});const re=(0,N.Z)(ae,[["render",te]]);var oe=re,se=(0,_.aZ)({name:"AppSidebar",components:{AvatarBadge:oe},data:()=>({links:[{label:"Сохранённые сообщения",icon:"fa-solid fa-save",callback:"onSaveTap"},{label:"Пользователь",icon:"fa-solid fa-user",callback:"profileEdit"},{label:"Друзья",icon:"fa-solid fa-handshake"},{label:"Настройки",icon:"fa-solid fa-gear",callback:"configure"}],footerBtns:[{label:"Что это такое?",icon:"fa-solid fa-circle-question",callback:""},{label:"Пригласить друзей",icon:"fa-solid fa-bullhorn",callback:""},{label:"Выход",icon:"fa-solid fa-arrow-right-from-bracket",callback:"logout",exact:!1}]}),methods:{async logout(){this.$router.push({name:"login",query:{message:"auth/session-closed"}}).then((async()=>{await this.$store.dispatch("auth/logout")}))},profileEdit(){this.$router.push({name:"profile-edit",params:{uid:this.user.uid}})},onClick(e){e.name?this.$router.push({name:e.name}):this[e.callback]?this[e.callback]():this.$toast.show(e.label)}},computed:{user(){return this.$store.getters["auth/getUser"]}}});const ne=(0,N.Z)(se,[["render",K]]);var ie=ne;const le={class:"h-14 dark:bg-dark-300 bg-gray-100 dark:shadow-none shadow-md sm:hidden flex justify-between"},ce={class:"flex gap-2"},ue={class:"flex h-full w-full"},de=["onClick"],he={class:"flex items-center justify-center w-full dark:hover:text-primary-100 hover:text-white hover:opacity-100"};function me(e,t,a,r,o,s){const n=(0,_.up)("base-button"),i=(0,_.up)("base-modal");return(0,_.wg)(),(0,_.iD)("div",le,[(0,_.Wm)(i,{modelValue:e.showModalLogout,"onUpdate:modelValue":t[1]||(t[1]=t=>e.showModalLogout=t)},{header:(0,_.w5)((()=>[(0,_.Uk)("Вы уверены, что хотите выйти?")])),default:(0,_.w5)((()=>[(0,_._)("div",ce,[(0,_.Wm)(n,{class:"flex-4",theme:"passive",onClick:t[0]||(t[0]=t=>e.showModalLogout=!1)},{default:(0,_.w5)((()=>[(0,_.Uk)("Отмена")])),_:1}),(0,_.Wm)(n,{class:"flex-2",onClick:s.logout},{default:(0,_.w5)((()=>[(0,_.Uk)("Да")])),_:1},8,["onClick"])])])),_:1},8,["modelValue"]),(0,_._)("ul",ue,[((0,_.wg)(!0),(0,_.iD)(_.HY,null,(0,_.Ko)(e.links,(t=>((0,_.wg)(),(0,_.iD)("li",{key:t.name,class:"flex flex-1 cursor-pointer items-center justify-center"},[(0,_._)("div",{class:"w-full h-full flex items-center dark:hover:text-primary-100 hover:text-white hover:opacity-100",onClick:e=>s.onClick(t)},[(0,_._)("div",he,[(0,_._)("i",{class:(0,M.C_)(["transition-colors text-lg",{[t.icon]:!0,"dark:text-white text-gray-700 dark:opacity-100 ":t.name!=e.$route.name,"dark:text-primary-100 text-primary-300 opacity-100 text-white":t.name==e.$route.name}])},null,2)])],8,de)])))),128))])])}var pe={name:"AppNavbar",components:{},data:()=>({links:[{name:"main",label:"Контакты",icon:"fa-solid fa-book",exact:!0},{name:"saved",label:"Сохранённые сообщения",icon:"fa-solid fa-save",callback:"onSaveTap"},{name:"settings",label:"Пользователь",icon:"fa-solid fa-user",callback:"profileEdit"},{name:"settings",label:"Настройки",icon:"fa-solid fa-gear",callback:"configure"},{name:"logout",label:"Выход",icon:"fa-solid fa-right-from-bracket",callback:"onLogoutTap"}],showModalSearch:!1,showModalLogout:!1,search:""}),methods:{logout(){this.$store.dispatch("auth/logout"),this.$router.push({name:"login",query:{message:"auth/session-closed"}})},onSaveTap(){this.$toast.show("Пока тут ничего нет")},onLogoutTap(){this.showModalLogout=!0},profileEdit(){this.$router.push({name:"profile-edit",params:{uid:this.user.uid}})},configure(){this.$toast.show("Пока тут ничего нет")},onClick(e){e.callback?this[e.callback]&&this[e.callback]():this.$router.push({name:e.name})}},computed:{user(){return this.$store.getters["auth/getUser"]}},watch:{search:{async handler(){this.debouncedSearchQuery&&this.debouncedSearchQuery.cancel()}}}};const ge=(0,N.Z)(pe,[["render",me]]);var fe=ge,we=(0,_.aZ)({name:"MainLayout",data:()=>({contactsLoading:!1,listener:null}),components:{AppSidebar:ie,AppNavbar:fe},computed:{username(){return this.$store.getters["auth/getUser"].displayName},userContacts(){return this.$store.getters["contacts/getContacts"].length}},async created(){this.contactsLoading=!0,await this.$store.dispatch("auth/prefetchUserData"),this.listener=await this.$store.dispatch("addContactsListener"),this.contactsLoading=!1},unmounted(){const e=this.listener;e?.contactsListener?.(),e?.messagesListeners.forEach((e=>{e()}))}});const ye=(0,N.Z)(we,[["render",Z]]);var ve=ye,be={AuthLayout:j,MainLayout:ve};function ke(e,t,a,o,s,n){return(0,_.wg)(),(0,_.j4)(r.uT,{mode:"out-in","leave-to-class":"dissolve","enter-from-class":"dissolve"},{default:(0,_.w5)((()=>[(0,_.WI)(e.$slots,"default")])),_:3})}var xe={name:"AuthTransition"};const Ce=(0,N.Z)(xe,[["render",ke]]);var Le=Ce;function _e(e,t,a,o,s,n){return(0,_.wg)(),(0,_.j4)(r.uT,{mode:"out-in","leave-to-class":"dissolveLeft","enter-from-class":"dissolveRight"},{default:(0,_.w5)((()=>[(0,_.WI)(e.$slots,"default",{},void 0,!0)])),_:3})}var Ue={name:"ChatTransition"};const Se=(0,N.Z)(Ue,[["render",_e],["__scopeId","data-v-2a27c17e"]]);var $e=Se,Ie={AuthTransition:Le,ChatTransition:$e},Ee={name:"App",components:{...be,...Ie},computed:{layout(){return this.$route.meta.layout+"-layout"},transition(){return this.$route.meta.transition?this.$route.meta.transition+"-transition":"default-transition"}},async created(){this.$store.dispatch("auth/checkAuth");const e=await this.$store.dispatch("getConfig");this.$store.dispatch("applyConfig",e)}};const Te=(0,N.Z)(Ee,[["render",S]]);var Ae=Te,De=a(2483);const Re=[{path:"/",name:"main",component:()=>Promise.all([a.e(806),a.e(849)]).then(a.bind(a,5849)),meta:{auth:!0,layout:"main",title:"main",transition:"chat"},children:[{path:":chatId",name:"chat",component:()=>Promise.all([a.e(806),a.e(981)]).then(a.bind(a,9981)),props:e=>({chatId:e.params.chatId}),meta:{title:"chat"}}]},{path:"/login",name:"login",component:()=>Promise.all([a.e(723),a.e(606)]).then(a.bind(a,8606)),meta:{auth:!1,layout:"auth",transition:"auth",title:"login"}},{path:"/register",name:"register",component:()=>Promise.all([a.e(723),a.e(769)]).then(a.bind(a,1769)),meta:{auth:!1,layout:"auth",transition:"auth",title:"signUp"}},{path:"/reset",name:"password-reset",component:()=>Promise.all([a.e(723),a.e(272)]).then(a.bind(a,4272)),meta:{auth:!1,layout:"auth",transition:"auth",title:"passwordRecovery"}},{path:"/profile/:uid",name:"profile-edit",component:()=>Promise.all([a.e(806),a.e(747)]).then(a.bind(a,9747)),meta:{auth:!1,layout:"auth",transition:"auth",title:"profile"},props:e=>({uid:e.params.uid})},{path:"/users",name:"users",component:()=>a.e(628).then(a.bind(a,2628)),meta:{auth:!1,layout:"auth",transition:"auth",title:"users"}},{path:"/:pathMatch(.*)*",name:"NotFound",component:()=>a.e(385).then(a.bind(a,8385)),props:e=>({path:e.path}),meta:{layout:"auth",title:"notFound"}}],Ne=(0,De.p7)({history:(0,De.PO)("/messenger-app/"),routes:Re});Ne.beforeEach((e=>{if(e.meta.title){const t=m[u]?.pages?.[e.meta.title];document.title=t||"Chat app"}else document.title="Chat app";if(e.meta.auth&&!x.currentUser)return{name:"login",query:{redirect:e.name,message:"auth/not-authorized"}}}));var qe=Ne,je=a(65),Me={namespaced:!0,state:()=>({user:null,prefetched:!1}),mutations:{setUser:(e,t)=>e.user=t,changePrefetchedStatus:(e,t)=>e.prefetched=t},getters:{getUser(e){return e.user}},actions:{async prefetchUserData({dispatch:e}){await e("contacts/fetchCurrentUserContacts",null,{root:!0})},async linkWithDb(e,t){let a={};try{const e=await(0,w.JU)(C,`users/${t.uid}`),r=(await(0,w.QT)(e)).data();a=r?{...r,...t}:{...t},a=Object.entries(a).filter((e=>!!e[1])).reduce(((e,t)=>({...e,[t[0]]:t[1]})),{}),r?await(0,w.r7)(e,a):await(0,w.pl)(e,a)}catch(r){throw console.warn("Error in linkWithDb method of auth store module"),r}},async checkAuth({commit:e,dispatch:t}){e("setUser",x.currentUser?x.currentUser:null)},async signInWithGoogle({commit:e,dispatch:t}){try{const a=new f.hJ,{displayName:r,photoURL:o,uid:s,email:n}=(await(0,f.rh)(x,a)).user;await t("linkWithDb",{name:r,photoURL:o,uid:s,email:n}),e("setUser",{displayName:r,photoURL:o,uid:s})}catch(a){throw console.warn("Error in signInWithGoogle method of auth store module"),a}},async signInWithEmail({commit:e,dispatch:t},{email:a,password:r,toSaveUser:o=!1}){try{const s=(await(0,f.e5)(x,a,r)).user;if(e("setUser",s),o){const e={email:s.email,password:r,uid:s.uid,name:s.displayName,photoURL:s.photoURL};t("cacheUser",e)}}catch(s){throw console.warn("Error in signInWithEmail method of auth store module"),s}},async registerWithEmail({dispatch:e},{name:t,email:a,password:r}){try{const o=(await(0,f.Xb)(x,a,r)).user;await e("updateUserProfile",{name:t,email:a,password:r}),await(0,f.w$)(o)}catch(o){throw console.warn("Error in registerInWithEmail method of auth store module"),o}},async logout({commit:e}){try{await x.signOut(),e("setUser",null)}catch(t){throw console.warn("Error in logout method of auth store module"),t}},async resetPassword(e,t){try{await(0,f.LS)(x,t)}catch(a){throw console.warn("Error in resetPassword method of auth store module"),a}},cacheUser(e,{email:t,password:a,uid:r,name:o,bio:s,photoURL:n}){try{const e={email:t,password:a,uid:r,name:o,photoURL:n};let i=JSON.parse(""+localStorage.getItem("task-tracker-users")),l=!1;i=i?.map((e=>e.uid===r?(l=!0,{email:t,password:a,uid:r,bio:s,name:o,photoURL:n}):e));const c=l?i:[e,...i||[]];localStorage.setItem("task-tracker-users",JSON.stringify(c))}catch(i){throw console.warn("Error in saveUser method in auth store module"),i}},getCachedUsers(){try{const e=JSON.parse(""+localStorage.getItem("task-tracker-users"));return e?.length?e:null}catch(e){throw console.warn("Error in getUser method in auth store module"),e}},getCachedUser(e,t){try{const e=JSON.parse(""+localStorage.getItem("task-tracker-users")),a=e?.find((e=>{if(e.uid==t)return e}));return a||null}catch(a){throw console.warn("Error in getCachedUser method in auth store module"),a}},removeCachedUser(e,t){try{let e=JSON.parse(""+localStorage.getItem("task-tracker-users"));e&&(e=e.filter((e=>e?.uid!=t))),localStorage.setItem("task-tracker-users",JSON.stringify(e))}catch(a){throw console.warn("Error in removeCachedUser method in auth store module"),a}},async updateUserProfile({dispatch:e},{name:t,email:a,password:r,bio:o,profile_photo_file:s}){try{const n=await e("getUid");let i;s&&(i=(0,v.iH)(L,`users/${n}/avatar.jpeg`),await(0,v.KV)(i,s));const l=i?await(0,v.Jt)(i):null;await(0,f.ck)(x.currentUser,{displayName:t,photoURL:l}),console.log({uid:n,name:t,email:a,password:r,bio:o,photoURL:l}),await e("linkWithDb",{uid:n,name:t,email:a,password:r,bio:o,photoURL:l})}catch(n){throw console.warn("Error in updateProfile method in auth store module"),console.warn(n),n}},getUid(){const e=x.currentUser;return e?e.uid:null}}},Be={namespaced:!0,state:()=>({contacts:[]}),mutations:{setContacts:(e,t)=>e.contacts=t,appendContact:(e,t)=>{e.contacts.find((e=>e.uid===t.uid))||e.contacts.push(t)},setContact:(e,{uid:t,contact:a})=>e.map((e=>e.uid===t?a:e))},getters:{getContacts:e=>e.contacts,getContact:e=>t=>e.contacts.filter((e=>e.name.toLowerCase().includes(t.toLowerCase()))),findContact:e=>t=>e.contacts.find((e=>e.uid===t))?.room_hash},actions:{async fetchUsersByName({dispatch:e},{name:t}){const a=(0,w.hJ)(C,"users/"),r=[],o=await e("auth/getUid",null,{root:!0});return(await(0,w.PL)(a)).docs.forEach((e=>{const a=e.data();a.name.toLowerCase().includes(t.toLowerCase())&&a.uid!=o&&r.push(a)})),r},async getUserInfoByUid(e,t){const a=(0,w.JU)(C,`users/${t}`),r=(await(0,w.QT)(a)).data();return r},async fetchContactInfo({dispatch:e},t){const a=await e("getUserInfoByUid",t.uid);if(!a)return;const{email:r,name:o,photoURL:s,bio:n,uid:i}=a;return{email:r,name:o,photoURL:s,bio:n,room_hash:t.room_hash,uid:i}},async fetchCurrentUserContacts({dispatch:e,commit:t}){const a=await e("auth/getUid",null,{root:!0}),r=(0,w.hJ)(C,`users/${a}/contacts`);let o=(await(0,w.PL)(r)).docs.map((e=>({...e.data()})));if(!o)return[];const s=[];for(let n=0;n<o.length;n++)s.push(await e("fetchContactInfo",o[n]));return t("setContacts",s),s},async addNewUserContact({dispatch:e,commit:t,rootGetters:a},r){const o=(0,w.hJ)(C,`users/${r.uid}/contacts`),s={uid:r.cuid,room_hash:r.chatRoomHash},n=(await(0,w.PL)(o)).docs.map((e=>{const t=e.data();return{room_hash:t.room_hash,uid:t.uid}})),i=n?.find((e=>s.uid===e.uid));if(i)return;const l=(0,w.JU)(C,`users/${r.uid}/contacts/${s.room_hash}`);await(0,w.pl)(l,s)},async addContactListListenter({dispatch:e},t){const a=await e("auth/getUid",null,{root:!0}),r=(0,w.hJ)(C,`users/${a}/contacts`),o=(0,w.cf)(r,t);return o},async handshakeUsers({dispatch:e},t){const a=await e("auth/getUid",null,{root:!0});await e("addNewUserContact",{uid:a,...t}),await e("addNewUserContact",{...t,uid:t.cuid,cuid:a})}}};function Pe(e,t=0){let a=3735928559^t,r=1103547991^t;for(let o,s=0;s<e.length;s++)o=e.charCodeAt(s),a=Math.imul(a^o,2654435761),r=Math.imul(r^o,1597334677);return a=Math.imul(a^a>>>16,2246822507),a^=Math.imul(r^r>>>13,3266489909),r=Math.imul(r^r>>>16,2246822507),r^=Math.imul(a^a>>>13,3266489909),4294967296*(2097151&r)+(a>>>0)}var We,Oe=Pe;(function(e){e[e["SENDING"]=0]="SENDING",e[e["SENDED"]=1]="SENDED",e[e["READ"]=2]="READ"})(We||(We={}));var Ve=We,Ze={namespaced:!0,state:()=>({rooms:{}}),getters:{getRoomInfo:e=>t=>e.rooms[t],getRoomMessages:e=>t=>e.rooms[t]?.messages,getLastRoomMessage:e=>t=>e.rooms[t]?.messages.slice(-1)[0],getUnreadMessagesAmount:e=>t=>e.rooms[t]?.messages.filter((e=>e.readStatus!=Ve.READ)).length,getAllRooms:e=>e.rooms},mutations:{pushMessageByHash:(e,t)=>{if(!t.hash)return void console.warn("Didn't get room hash at pushMessageByHash commit of room.ts");const a=e.rooms[t.hash];a?e.rooms[t.hash].messages.push(t.message):e.rooms[t.hash]={hash:t.hash,messages:[t.message]}},setRoomInfo:(e,t)=>e.rooms[t.hash]=t,setAllRooms:(e,t)=>t.forEach((t=>e.rooms[t.hash]=t))},actions:{setChatListenerByRoomHash(e,t){const a=(0,w.hJ)(C,`chats/${t.hash}/messages`),r=(0,w.IO)(a,(0,w.Xo)("created_at")),o=(0,w.cf)(r,t.callback);return o},async openNewRoom({dispatch:e},t){const a=Oe(t.uid+t.cuid);return await e("contacts/handshakeUsers",{cuid:t.cuid,chatRoomHash:a},{root:!0}),a},async sendMessageToUser({dispatch:e,rootGetters:t,commit:a},r){const o=await e("auth/getUid",null,{root:!0}),s=r.counterId;let n=t["contacts/findContact"](r.counterId);n||(n=await e("openNewRoom",{uid:o,cuid:s}));const i=(0,w.hJ)(C,`chats/${n}/messages`);await(0,w.ET)(i,{...r.message})},async getRoomInfoByRoomHash({commit:e},t){if(!t)return[];const a=(0,w.hJ)(C,`chats/${t}/messages`),r=(0,w.IO)(a,(0,w.Xo)("created_at")),o=(await(0,w.PL)(r)).docs.map((e=>e.data())),s={hash:t,messages:o};return e("setRoomInfo",s),o},async getAllMRoomInfosByRoomHashes({commit:e,dispatch:t},a){const r=[];for(let o=0;o<a.length;o++){const e=a[o],s={hash:e,messages:await t("getRoomInfoByRoomHash",e)};r.push(s)}e("setAllRooms",r)}}},Je=(0,je.MT)({state:{},getters:{},mutations:{},actions:{async addContactsListener({dispatch:e,commit:t},a){const r=[],o=a=>{const o=a.docChanges().map((e=>e.doc.data()));o.forEach((async a=>{r.push(await e("addChatListener",{hash:a.room_hash}));const o=await e("contacts/fetchContactInfo",a);t("contacts/appendContact",o)}))};return{contactsListener:await e("contacts/addContactListListenter",a||o),messagesListeners:r}},async addChatListener({dispatch:e,commit:t},{hash:a,newMessageCallback:r}){const o=e=>{e.docChanges().filter((e=>"added"===e.type)).map((e=>e.doc.data())).forEach((e=>{const o=e;t("room/pushMessageByHash",{hash:a,message:o}),r&&r(o)}))};return await e("room/setChatListenerByRoomHash",{hash:a,callback:o})},updateConfig(e,t){let a=JSON.parse(localStorage.getItem("task-tracker-config"));a={...a,...t},localStorage.setItem("task-tracker-config",JSON.stringify(a))},async getConfig(){const e=JSON.parse(localStorage.getItem("task-tracker-config"));return e||{colorScheme:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"",language:{NODE_ENV:"production",BASE_URL:"/messenger-app/"}.DEFAULT_LANG}},applyConfig(e,t){if(t.colorScheme){const e=document.documentElement.classList;e.value="",e.add(t.colorScheme)}}},modules:{auth:Me,contacts:Be,room:Ze}});const ze={class:"overflow-hidden"},He={class:"relative mt-7"},Ge=["for"],Fe=["value","name","id","type","autocomplete","disabled"],Ye={key:0,class:"text-red-600 dark:text-rose-400 overflow-hidden text-elipsis"};function Ke(e,t,a,r,o,s){return(0,_.wg)(),(0,_.iD)("div",ze,[(0,_._)("div",He,[a.label?((0,_.wg)(),(0,_.iD)("label",{key:0,class:(0,M.C_)([{"top-1/2":!o.isActive&&!a.modelValue&&!a.value,"-top-3":o.isActive||a.modelValue||a.value,"text-blue-600 dark:text-primary-100":o.isActive,"text-red-600 dark:text-rose-400":a.errorMessage,"text-gray-600 dark:text-gray-300":!a.errorMessage&&!o.isActive},"cursor-text text-xs absolute -translate-y-1/2 left-2 transition-all"]),for:o.id},(0,M.zw)(a.label),11,Ge)):(0,_.kq)("",!0),(0,_._)("input",{value:a.modelValue||a.value,name:o.id,id:o.id,type:a.type,autocomplete:a.autocomplete,disabled:a.disabled,onInput:t[0]||(t[0]=(...e)=>s.updateInput&&s.updateInput(...e)),onFocusin:t[1]||(t[1]=e=>o.isActive=!0),onFocusout:t[2]||(t[2]=e=>o.isActive=!1),class:(0,M.C_)(["w-full h-10 pl-2 text-md outline-none dark:focus:border-primary-100 focus:border-primary-200 transition-colors dark:bg-dark-200 dark:text-gray-300",{"border-red-400 dark:border-rose-400":a.errorMessage,"border rounded border-gray-300 dark:border-gray-600":!a.disabled,"border-b text-gray-500 border-gray-300 dark:border-gray-600":a.disabled}])},null,42,Fe)]),a.errorMessage?((0,_.wg)(),(0,_.iD)("small",Ye,(0,M.zw)(a.errorMessage),1)):(0,_.kq)("",!0)])}var Qe={props:{value:{type:String,required:!1,default:""},modelValue:{type:String,required:!1,default:""},label:{type:String,required:!1},type:{type:String,required:!1,default:"text"},errorMessage:{type:String,required:!1,default:""},autocomplete:{type:String,required:!1,default:""},disabled:{type:Boolean,required:!1,default:!1}},data(){return{isActive:!1,id:null}},created(){this.id="input-"+Math.random()},methods:{activateInput(){this.isActive=!0},updateInput(e){this.$emit("update:modelValue",e.target.value)}},watch:{modelValue(){this.isActive=!0}}};const Xe=(0,N.Z)(Qe,[["render",Ke]]);var et=Xe;const tt={class:"w-full"},at=["type"];function rt(e,t,a,r,o,s){return(0,_.wg)(),(0,_.iD)("div",tt,[(0,_._)("button",{type:a.type,class:(0,M.C_)(["w-full text-md rounded h-10 transition-colors",e.themes[a.theme]])},[(0,_.WI)(e.$slots,"default",{},(()=>[(0,_.Uk)("Продолжить")])),e.$slots.icon?(0,_.WI)(e.$slots,"icon",{key:0}):(0,_.kq)("",!0)],10,at)])}var ot={props:{type:{type:String,required:!1,default:"button"},theme:{type:String,required:!1,default:"primary"}},data:()=>({themes:{primary:"bg-primary-100 text-white hover:bg-primary-200 border-2 border-primary-100 hover:border-primary-200",alert:"bg-rose-600 text-white hover:bg-rose-700 border-2 border-rose-600 hover:border-rose-700",passive:"bg-white border border-blue-600 text-black hover:bg-gray-200 dark:bg-dark-200 dark:text-gray-300"}})};const st=(0,N.Z)(ot,[["render",rt]]);var nt=st;const it={class:"flex flex-col gap-2"},lt={class:"flex w-full gap-2 pl-1 select-none"},ct=["checked","name","id"],ut=["for"];function dt(e,t,a,r,o,s){return(0,_.wg)(),(0,_.iD)("div",it,[(0,_._)("div",lt,[(0,_._)("input",{checked:a.modelValue,onChange:t[0]||(t[0]=(...e)=>s.updateValue&&s.updateValue(...e)),class:"cursor-pointer scale-125 bg-gray-500",type:"checkbox",name:o.id,id:o.id},null,40,ct),(0,_._)("label",{class:(0,M.C_)(["font-semibold text-gray-600 dark:text-gray-300 text-xs whitespace-nowrap overflow-hidden text-ellipsis cursor-pointer",{"text-red-500":a.error}]),for:o.id},[(0,_.WI)(e.$slots,"default")],10,ut)])])}var ht={props:{modelValue:{type:Boolean,required:!1,default:!1},error:{type:Boolean,required:!1,default:!1}},data(){return{id:null}},created(){this.id="checkbox-"+Math.random()},methods:{updateValue(e){this.$emit("update:modelValue",!!e.target.checked)}}};const mt=(0,N.Z)(ht,[["render",dt]]);var pt=mt;const gt={class:"text-blue-600 hover:text-blue-900 transition-colors dark:text-blue-400 dark:hover:text-blue-500"},ft=["href"];function wt(e,t,a,r,o,s){const n=(0,_.up)("router-link");return(0,_.wg)(),(0,_.iD)("div",gt,[s.isExternal?((0,_.wg)(),(0,_.iD)("a",{key:0,href:e.$props.to,target:"_blank"},[(0,_.WI)(e.$slots,"default")],8,ft)):((0,_.wg)(),(0,_.j4)(n,(0,M.vs)((0,_.dG)({key:1},e.$props)),{default:(0,_.w5)((()=>[(0,_.WI)(e.$slots,"default")])),_:3},16))])}var yt={props:{...De.rH.props},computed:{isExternal(){const e=this.$props.to;return"string"===typeof e&&e.startsWith("http")}}};const vt=(0,N.Z)(yt,[["render",wt]]);var bt=vt;function kt(e,t,a,r,o,s){return(0,_.wg)(),(0,_.iD)("div",{class:(0,M.C_)(["animate-spin border-gray-500 dark:border-gray-300 dark:border-t-blue-400 border-t-blue-600 rounded-full",{"min-h-[.75rem] min-w-[.75rem] border":"tiny"===a.size,"h-6 w-6 border-2":"small"===a.size,"h-12 w-12 border-2":"medium"===a.size,"h-16 w-16 border-4":"big"===a.size}])},null,2)}var xt={name:"BaseLoader",props:{size:{type:String,required:!1,default:"small"}}};const Ct=(0,N.Z)(xt,[["render",kt]]);var Lt=Ct;const _t={class:"w-full flex flex-col gap-2 h-full"},Ut={class:"flex justify-between items-center"},St=["for"],$t={key:0,class:"text-xs text-gray-600 dark:text-gray-400"},It=["maxlength","value","id"];function Et(e,t,a,r,o,s){return(0,_.wg)(),(0,_.iD)("div",_t,[(0,_._)("div",Ut,[(0,_._)("label",{class:"text-gray-600 dark:text-gray-400",for:"textarea-"+o.id},(0,M.zw)(a.label),9,St),a.maxLength&&o.focused?((0,_.wg)(),(0,_.iD)("small",$t,(0,M.zw)(a.modelValue?.length||0)+" / "+(0,M.zw)(a.maxLength),1)):(0,_.kq)("",!0)]),(0,_._)("textarea",{maxlength:a.maxLength?a.maxLength:null,onFocusin:t[0]||(t[0]=e=>o.focused=!0),onFocusout:t[1]||(t[1]=e=>o.focused=!1),value:a.modelValue,onInput:t[2]||(t[2]=(...e)=>s.updateValue&&s.updateValue(...e)),id:"textarea-"+o.id,cols:"30",rows:"10",class:(0,M.C_)(["w-full h-full outline-none border border-gray-400 rounded resize-none p-2 transition-colors dark:bg-dark-200 dark:text-gray-200",o.focused?"border-blue-600":""])},"\r\n        ",42,It)])}var Tt={props:{label:{type:String,required:!1,default:""},modelValue:{type:String,required:!1},maxLength:{type:Number,required:!1}},methods:{updateValue(e){this.$emit("update:modelValue",e.target.value)}},data(){return{focused:!1,id:Math.random()}}};const At=(0,N.Z)(Tt,[["render",Et]]);var Dt=At;const Rt={key:0,class:"flex justify-between items-center pb-2 border-b-2 border-gray-200"},Nt={class:"whitespace-nowrap overflow-hidden text-ellipsis text-gray-700 flex-1 dark:text-gray-300"},qt={class:"flex-1 max-h-full overflow-y-scroll scrollbar-hide dark:text-gray-300 text-gray-700"},jt={key:1,class:"pt-2 border-t-2 border-gray-200 dark:text-gray-300 text-gray-700"};function Mt(e,t,a,o,s,n){const i=(0,_.up)("auth-transition");return(0,_.wg)(),(0,_.j4)(_.lR,{to:"body"},[(0,_.Wm)(r.uT,{"leave-to-class":"appear","enter-from-class":"appear"},{default:(0,_.w5)((()=>[a.modelValue?((0,_.wg)(),(0,_.iD)("div",{key:0,class:"top-0 min-h-screen w-full bg-[rgba(0,0,0,0.5)] fixed z-40",onClick:t[0]||(t[0]=(...e)=>n.close&&n.close(...e))})):(0,_.kq)("",!0)])),_:1}),(0,_.Wm)(i,null,{default:(0,_.w5)((()=>[a.modelValue?((0,_.wg)(),(0,_.iD)("div",{key:0,onClick:t[2]||(t[2]=(0,r.iM)((()=>{}),["stop"])),class:"flex flex-col gap-2 bg-white dark:bg-dark-200 rounded shadow-2xl px-4 py-2 fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-50 w-[calc(100%_-_20px)] sm:min-w-[450px] sm:w-auto sm:max-w-[500px] max-h-[calc(100vh_-_20px)]"},[e.$slots.header?((0,_.wg)(),(0,_.iD)("header",Rt,[(0,_._)("p",Nt,[(0,_.WI)(e.$slots,"header",{class:"font-semibold"},void 0,!0)]),(0,_._)("i",{class:"fa-solid fa-xmark pl-3 text-gray-400 hover:text-rose-600 cursor-pointer text-xl transition-colors",onClick:t[1]||(t[1]=(...e)=>n.close&&n.close(...e))})])):(0,_.kq)("",!0),(0,_._)("main",qt,[(0,_.WI)(e.$slots,"default",{},void 0,!0)]),e.$slots.footer?((0,_.wg)(),(0,_.iD)("footer",jt,[(0,_.WI)(e.$slots,"footer",{},void 0,!0)])):(0,_.kq)("",!0)])):(0,_.kq)("",!0)])),_:3})])}var Bt={props:{modelValue:{type:Boolean,required:!0,default:!0}},name:"BaseModal",methods:{close(){this.$emit("update:modelValue",!1)}},components:{AuthTransition:Le}};const Pt=(0,N.Z)(Bt,[["render",Mt],["__scopeId","data-v-28925e90"]]);var Wt=Pt,Ot={BaseInput:et,BaseButton:nt,BaseCheckbox:pt,BaseLink:bt,BaseLoader:Lt,BaseTextarea:Dt,BaseModal:Wt},Vt={mounted(e,t){document.addEventListener("click",(a=>{if(a.currentTarget!=e)try{"object"===typeof t.value?t.value.callback():t.value()}catch(a){console.warn(a),console.log("Error in click outside directive in element ",e)}}))},unmounted(){removeEventListener("click",this)}},Zt=a(5704),Jt=(a(3043),{mounted(e,{value:t}){const a={theme:null,content:null};t&&("object"===typeof t?Object.keys(t).forEach((e=>{a[e]=t[e]})):a.content=t),(0,Zt.ZP)(e,{...a})},unmounted(e){e._tippy.destroy()}}),zt={mounted(e,{value:t}){e.addEventListener("scroll",(()=>{t.callback()}))},unmounted(e){e.removeEventListener("scroll",this)}},Ht={clickOutside:Vt,tooltip:Jt,onScroll:zt},Gt=a(3610);const Ft={class:"hidden"},Yt={ref:"slot"};function Kt(e,t,a,r,o,s){return(0,_.wg)(),(0,_.iD)("div",Ft,[(0,_._)("div",Yt,[(0,_.WI)(e.$slots,"default")],512)])}a(6718);var Qt={props:{options:{type:Object}},data:()=>({t:null}),name:"BaseTooltip",mounted(){const e={allowHTML:!0,interactive:!0,content:this.$refs.slot};this.t=(0,Zt.ZP)(this.$el.parentNode,{appendTo:document.body,...e,...this.options,plugins:[Zt.Cv]})},unmounted(){this.t.destroy()}};const Xt=(0,N.Z)(Qt,[["render",Kt]]);var ea=Xt;function ta(e){e.component("BaseTooltip",ea)}let aa;function ra(){aa=(0,r.ri)(Ae);for(const e in Ot)aa.component(e,Ot[e]);for(const e in Ht)aa.directive(e,Ht[e]);aa.use(p).use(Je).use(qe).use(Gt.ZP,{position:"top-right"}).use(ta).mount("#app")}x.onAuthStateChanged((()=>{aa||ra()}))},776:function(e,t,a){a.d(t,{Z:function(){return d}});var r=a(3396),o=a(9242);const s={key:0,class:"fa-solid fa-sun text-lg text-gray-700"},n={key:1,class:"fa-solid fa-moon text-lg text-gray-300"};function i(e,t,a,i,l,c){return(0,r.wg)(),(0,r.iD)("div",{onClick:t[0]||(t[0]=(...e)=>c.toggleTheme&&c.toggleTheme(...e)),class:"card h-10 w-10 bg-white overflow-hidden relative select-none"},[(0,r.Wm)(o.uT,{mode:"out-in","leave-to-class":e.darkTheme?"appear_left":"appear_right","enter-from-class":e.darkTheme?"appear_right":"appear_left"},{default:(0,r.w5)((()=>[e.darkTheme?((0,r.wg)(),(0,r.iD)("i",n)):((0,r.wg)(),(0,r.iD)("i",s))])),_:1},8,["leave-to-class","enter-from-class"])])}var l={name:"ColorThemeSwitcher",data:()=>({darkTheme:!1}),async created(){const e=(await this.$store.dispatch("getConfig")).colorScheme;e&&(this.darkTheme="dark"===e)},methods:{toggleTheme(){this.darkTheme=!this.darkTheme,this.$store.dispatch("updateConfig",{colorScheme:this.darkTheme?"dark":"white"}),this.$store.dispatch("applyConfig",{colorScheme:this.darkTheme?"dark":"white"})}}},c=a(89);const u=(0,c.Z)(l,[["render",i],["__scopeId","data-v-156e7a37"]]);var d=u},8477:function(e,t,a){a.d(t,{Z:function(){return h}});var r=a(3396),o=a(7139);const s={class:"card w-28 h-10"},n={class:"flex flex-col w-28 text-center"},i=["onClick"];function l(e,t,a,l,c,u){const d=(0,r.up)("base-tooltip");return(0,r.wg)(),(0,r.iD)("div",s,[(0,r.Uk)((0,o.zw)(u.getLang.label)+" ",1),(0,r.Wm)(d,{options:{trigger:"click",interactive:!0,arrow:!1}},{default:(0,r.w5)((()=>[(0,r._)("div",n,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(u.getLangs,(e=>((0,r.wg)(),(0,r.iD)("p",{onClick:t=>u.changeLanguage(e.id),key:e.id,class:"w-full py-4 hover:text-gray-300 cursor-pointer"},(0,o.zw)(e.label),9,i)))),128))])])),_:1})])}var c={name:"LanguageSwitcher",data:()=>({currentLang:"ru"}),async mounted(){const e=this.$i18n.locale;this.currentLang=e||"ru"},methods:{changeLanguage(e){this.currentLang=e,this.$store.dispatch("updateConfig",{language:this.currentLang}),this.$i18n.locale=this.currentLang}},computed:{getLangs(){return[{label:"Русский (Ru)",id:"ru"},{label:"English (En)",id:"en"}]},getLang(){return this.getLangs.find((e=>e.id===this.currentLang))}}},u=a(89);const d=(0,u.Z)(c,[["render",l]]);var h=d}},t={};function a(r){var o=t[r];if(void 0!==o)return o.exports;var s=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(s.exports,s,s.exports,a),s.loaded=!0,s.exports}a.m=e,function(){var e=[];a.O=function(t,r,o,s){if(!r){var n=1/0;for(u=0;u<e.length;u++){r=e[u][0],o=e[u][1],s=e[u][2];for(var i=!0,l=0;l<r.length;l++)(!1&s||n>=s)&&Object.keys(a.O).every((function(e){return a.O[e](r[l])}))?r.splice(l--,1):(i=!1,s<n&&(n=s));if(i){e.splice(u--,1);var c=o();void 0!==c&&(t=c)}}return t}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[r,o,s]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce((function(t,r){return a.f[r](e,t),t}),[]))}}(),function(){a.u=function(e){return"js/"+e+"."+{272:"17e37966",385:"3ec95cdc",606:"31c2c43c",628:"0b8aac92",723:"08dc8af8",747:"abcfa700",769:"668a6c20",806:"9b76ac6f",849:"aec0420b",981:"e2443587"}[e]+".js"}}(),function(){a.miniCssF=function(e){return"css/"+e+"."+{272:"241da707",606:"241da707",628:"1ab61709",769:"85862521"}[e]+".css"}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="messenger-app:";a.l=function(r,o,s,n){if(e[r])e[r].push(o);else{var i,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+s){i=d;break}}i||(l=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,a.nc&&i.setAttribute("nonce",a.nc),i.setAttribute("data-webpack",t+s),i.src=r),e[r]=[o];var h=function(t,a){i.onerror=i.onload=null,clearTimeout(m);var o=e[r];if(delete e[r],i.parentNode&&i.parentNode.removeChild(i),o&&o.forEach((function(e){return e(a)})),t)return t(a)},m=setTimeout(h.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=h.bind(null,i.onerror),i.onload=h.bind(null,i.onload),l&&document.head.appendChild(i)}}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){a.p="/messenger-app/"}(),function(){if("undefined"!==typeof document){var e=function(e,t,a,r,o){var s=document.createElement("link");s.rel="stylesheet",s.type="text/css";var n=function(a){if(s.onerror=s.onload=null,"load"===a.type)r();else{var n=a&&("load"===a.type?"missing":a.type),i=a&&a.target&&a.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+i+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=n,l.request=i,s.parentNode&&s.parentNode.removeChild(s),o(l)}};return s.onerror=s.onload=n,s.href=t,a?a.parentNode.insertBefore(s,a.nextSibling):document.head.appendChild(s),s},t=function(e,t){for(var a=document.getElementsByTagName("link"),r=0;r<a.length;r++){var o=a[r],s=o.getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(s===e||s===t))return o}var n=document.getElementsByTagName("style");for(r=0;r<n.length;r++){o=n[r],s=o.getAttribute("data-href");if(s===e||s===t)return o}},r=function(r){return new Promise((function(o,s){var n=a.miniCssF(r),i=a.p+n;if(t(n,i))return o();e(r,i,null,o,s)}))},o={143:0};a.f.miniCss=function(e,t){var a={272:1,606:1,628:1,769:1};o[e]?t.push(o[e]):0!==o[e]&&a[e]&&t.push(o[e]=r(e).then((function(){o[e]=0}),(function(t){throw delete o[e],t})))}}}(),function(){var e={143:0};a.f.j=function(t,r){var o=a.o(e,t)?e[t]:void 0;if(0!==o)if(o)r.push(o[2]);else{var s=new Promise((function(a,r){o=e[t]=[a,r]}));r.push(o[2]=s);var n=a.p+a.u(t),i=new Error,l=function(r){if(a.o(e,t)&&(o=e[t],0!==o&&(e[t]=void 0),o)){var s=r&&("load"===r.type?"missing":r.type),n=r&&r.target&&r.target.src;i.message="Loading chunk "+t+" failed.\n("+s+": "+n+")",i.name="ChunkLoadError",i.type=s,i.request=n,o[1](i)}};a.l(n,l,"chunk-"+t,t)}},a.O.j=function(t){return 0===e[t]};var t=function(t,r){var o,s,n=r[0],i=r[1],l=r[2],c=0;if(n.some((function(t){return 0!==e[t]}))){for(o in i)a.o(i,o)&&(a.m[o]=i[o]);if(l)var u=l(a)}for(t&&t(r);c<n.length;c++)s=n[c],a.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return a.O(u)},r=self["webpackChunkmessenger_app"]=self["webpackChunkmessenger_app"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=a.O(void 0,[998],(function(){return a(5199)}));r=a.O(r)})();
//# sourceMappingURL=app.640052e5.js.map