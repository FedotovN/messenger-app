"use strict";(self["webpackChunkmessenger_app"]=self["webpackChunkmessenger_app"]||[]).push([[570],{6570:function(e,t,l){l.r(t),l.d(t,{default:function(){return te}});var a=l(3396),r=l(7139);const s={class:"flex h-full w-full bg-gradient-to-r from-primary-200 to-purple-200 bg-clip-text"};function i(e,t,l,i,d,n){const o=(0,a.up)("contacts-list"),c=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)("div",s,[(0,a.Wm)(o,{class:(0,r.C_)(["h-full md:min-w-[300px] sm:min-w-[210px] md:max-w-[300px]",{"hidden sm:flex":e.chatOpened,"w-full":!e.chatOpened}])},null,8,["class"]),(0,a.Wm)(c,{class:(0,r.C_)(["h-full",{"hidden sm:block":!e.chatOpened,"sm:w-full":e.chatOpened}])},null,8,["class"])])}const d={class:"flex flex-col gap-3 h-full bg-gray-200 dark:bg-gray-700 py-6 overflow-hidden w-[300px]"},n={class:"flex justify-between items-center"},o={key:0,class:"flex flex-col flex-1 w-full overflow-x-hidden overflow-y-scroll scrollbar-hide"},c={key:1,class:"flex-1 items-center px-3 text-center"},u={key:0,class:"h-full flex flex-col w-full justify-center gap-2"},p=(0,a._)("p",{class:"font-semibold text-gray-700 dark:text-gray-300"},"Чатов пока нет!",-1),f=(0,a._)("small",{class:"text-xs font-semibold text-gray-500 dark:text-gray-400"},"Чтобы начать, используйте функцию поиска внизу",-1),h=[p,f],g={key:1,class:"h-full flex flex-col w-full justify-center items-center gap-4"},m={class:"text-xs font-semibold text-gray-500 dark:text-gray-400"},y={key:2,class:"h-full flex flex-col w-full justify-center gap-2"},w=(0,a._)("p",{class:"font-semibold text-gray-700 dark:text-gray-300"},"Тут никого :(",-1),x=(0,a._)("small",{class:"text-xs font-semibold text-gray-500 dark:text-gray-400"},"Пользователя с поможим именем не найдено",-1),v=[w,x];function b(e,t,l,s,i,p){const f=(0,a.up)("base-search-input"),w=(0,a.up)("contact-item"),x=(0,a.up)("base-loader");return(0,a.wg)(),(0,a.iD)("div",d,[(0,a._)("header",n,[(0,a.Wm)(f,{modelValue:e.search,"onUpdate:modelValue":t[0]||(t[0]=t=>e.search=t),placeholder:"Поиск по контактам",loading:e.loading,class:"mx-2 w-full"},null,8,["modelValue","loading"])]),e.users.length&&!e.loading?((0,a.wg)(),(0,a.iD)("div",o,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.users,(e=>((0,a.wg)(),(0,a.j4)(w,{key:e.uid,contact:e},null,8,["contact"])))),128))])):((0,a.wg)(),(0,a.iD)("div",c,[e.search||e.loading?e.loading?((0,a.wg)(),(0,a.iD)("div",g,[(0,a.Wm)(x,{size:"medium"}),(0,a._)("small",m,'Ищем пользователя с именем "'+(0,r.zw)(e.search)+'"',1)])):e.search&&!e.loading?((0,a.wg)(),(0,a.iD)("div",y,v)):(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",u,h))]))])}var k=l(65),_=l(4806),q=l.n(_);const C={class:"overflow-hidden"},D=["value","name","id","type","autocomplete","disabled","placeholder"],j={class:"w-3"},I={key:0,class:"text-red-600 dark:text-rose-400 overflow-hidden text-elipsis"};function S(e,t,l,s,i,d){const n=(0,a.up)("base-loader");return(0,a.wg)(),(0,a.iD)("div",C,[(0,a._)("div",{class:(0,r.C_)(["border-gray-300 dark:border-gray-500 bg-gray-100 pl-3 pr-2 flex gap-1 items-center dark:focus:border-primary-100 focus:border-primary-200 transition-colors dark:bg-gray-600 dark:text-gray-300 rounded-full border overflow-hidden",{"border-primary-300 dark:border-primary-100":e.isActive}])},[(0,a._)("i",{class:(0,r.C_)(["fa-solid fa-search text-sm w-5 m-0 p-0",{"text-primary-300 dark:text-primary-100":e.isActive}])},null,2),(0,a._)("input",{value:e.modelValue||e.value,name:e.id,id:e.id,type:e.type,autocomplete:e.autocomplete,disabled:e.disabled,placeholder:e.placeholder,onInput:t[0]||(t[0]=(...t)=>e.updateInput&&e.updateInput(...t)),onFocusin:t[1]||(t[1]=t=>e.isActive=!0),onFocusout:t[2]||(t[2]=t=>e.isActive=!1),class:"w-full h-10 text-md outline-none dark:bg-gray-600 bg-gray-100 shadow-none"},null,40,D),(0,a._)("div",j,[this.loading?((0,a.wg)(),(0,a.j4)(n,{key:0,size:"tiny"})):(0,a.kq)("",!0)])],2),e.errorMessage?((0,a.wg)(),(0,a.iD)("small",I,(0,r.zw)(e.errorMessage),1)):(0,a.kq)("",!0)])}var U=(0,a.aZ)({name:"BaseSearchInput",props:{value:{type:String,required:!1,default:""},modelValue:{type:String,required:!1,default:""},label:{type:String,required:!1},type:{type:String,required:!1,default:"text"},errorMessage:{type:String,required:!1,default:""},autocomplete:{type:String,required:!1,default:""},disabled:{type:Boolean,required:!1,default:!1},placeholder:{type:String,required:!1,default:""},loading:{type:Boolean,required:!1,default:!1}},data(){return{isActive:!1,id:null}},created(){this.id="input-"+Math.random()},methods:{activateInput(){this.isActive=!0},updateInput(e){this.$emit("update:modelValue",e.target.value)}},watch:{modelValue(){this.isActive=!0}}}),Z=l(89);const A=(0,Z.Z)(U,[["render",S]]);var V=A;const z={class:"flex gap-3 items-center overflow-hidden w-full"},O={class:"min-h-[2.5rem] min-w-[2.5rem] w-[2.5rem] h-[2.5rem] rounded-full bg-gray-300 overflow-hidden"},B=["src"],Q={class:"flex flex-col overflow-hidden w-full"},L={class:"w-full flex overflow-hidden justify-between items-center"},M={class:"flex-1 text-md font-semibold overflow-hidden text-ellipsis whitespace-nowrap dark:text-gray-300 text-gray-700"},W=(0,a._)("div",{class:"h-2 w-2 bg-green-300 rounded-full"},null,-1),$=(0,a._)("div",{class:"h-2 w-2 bg-red-300 rounded-full"},null,-1),F=(0,a._)("div",{class:"h-2 w-2 dark:bg-gray-500 bg-gray-400 rounded-full"},null,-1),R={class:"w-full flex overflow-hidden justify-between"},H={class:"flex-1 text-xs font-semibold overflow-hidden text-ellipsis whitespace-nowrap dark:text-gray-500 text-gray-500"},K=(0,a._)("small",{class:"pl-1 text-xs font-semibold overflow-hidden text-ellipsis whitespace-nowrap dark:text-gray-400 text-gray-600"},"12:30",-1);function N(e,t,l,s,i,d){return(0,a.wg)(),(0,a.iD)("div",{class:"cursor-pointer min-h-[3.5rem] flex items-center justify-between overflow-hidden hover:bg-gray-300 dark:hover:bg-gray-600 px-2 transition-colors",onClick:t[0]||(t[0]=(...t)=>e.onClick&&e.onClick(...t))},[(0,a._)("div",z,[(0,a._)("div",O,[e.contact.photoURL?((0,a.wg)(),(0,a.iD)("img",{key:0,src:e.contact.photoURL,alt:"",class:"h-full w-full object-cover"},null,8,B)):(0,a.kq)("",!0)]),(0,a._)("div",Q,[(0,a._)("div",L,[(0,a._)("p",M,(0,r.zw)(e.contact.name),1),W,$,F]),(0,a._)("div",R,[(0,a._)("small",H,(0,r.zw)(e.contact.name)+" 111111111111111111111111111111111111111111",1),K])])])])}l(7658);var Y=(0,a.aZ)({name:"ContactItem",props:{contact:{type:Object,required:!0}},methods:{onClick(){this.$router.push({name:"chat",params:{chatId:this.contact.uid}})}}});const E=(0,Z.Z)(Y,[["render",N]]);var G=E,J=(0,a.aZ)({name:"ContactsList",components:{BaseSearchInput:V,ContactItem:G},data:()=>({search:"",debouncedQuery:null,loading:!1,users:[]}),watch:{search(e){this.debouncedQuery&&(this.debouncedQuery.cancel(),this.loading=!1),e.length?(this.debouncedQuery=q().debounce(this.searchUser,400),this.debouncedQuery(e),this.loading=!0):this.users=[]}},methods:{...(0,k.nv)("contacts",{getUser:"fetchUsersByName"}),async searchUser(e){this.users=await this.getUser({name:e}),this.loading=!1}}});const P=(0,Z.Z)(J,[["render",b]]);var T=P,X=(0,a.aZ)({components:{ContactsList:T},computed:{chatOpened(){return!!this.$route.params.chatId}}});const ee=(0,Z.Z)(X,[["render",i]]);var te=ee}}]);
//# sourceMappingURL=570.dda052e4.js.map